for nested loops and function
